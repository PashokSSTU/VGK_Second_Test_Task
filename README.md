# Основные классы

## `Exchange` (Биржа)
Этот класс представляет интерфейс для работы с любой биржей. Он предоставляет публичные и приватные API для взаимодействия с биржей.
- **Поля:**
    -  `PublicCLassAPI`:  Реализация интерфейса публичного API. Получение информации по бумагам, подписка на котировки.
    -  `PrivateClassAPI`:  Реализация интерфейса приватного API. Авторизация, выставление/снятие заявок, получение статусов.
- **Методы:**
    - `PublicAPI get_public_api()`
    - `PrivateAPI get_private_api(key/password)`

### `PublicAPI`(Интерфейс публичного API биржы)
- **Методы:**
  - `get_available_symbols()`: Возвращает список бумаг, доступных на бирже.
  - `subscribe_to_price(symbol)`: Подписка на получение котировок по заданной бумаге.
  
  *Каждая конкретная биржа будет иметь свою реализацию этого API.*

### `PrivateAPI`(Интерфейс приватного API биржы)
- **Методы:**
  - `place_order(order)`: Выставление заявки.
  - `cancel_order(order)`: Снятие заявки.
  - `get_order_status(order)`: Получение статуса заявки.
  
  *Каждая конкретная биржа будет иметь свою реализацию этого API.*

## `Order` (Заявка)
Представляет заявку на покупку или продажу бумаги.
- **Поля:**
  - `symbol`: Бумага, для которой создается заявка.
  - `type`: Тип заявки (покупка или продажа).
  - `quantity`: Количество бумаг.
  - `price`: Цена.
  - `status`: Текущий статус заявки (выставлена, выполнена, отменена и т.д.).

## `Portfolio` (Портфель)
Этот класс хранит список бумаг, которые нужно отслеживать и торговать. Портфель может быть настроен с различными параметрами и бумагами, и каждый портфель работает независимо.
- **Поля:**
  - `name`: Название портфеля.
  - `settings`: Настройки торгового алгоритма для данного портфеля.
  - `symbols`: Список бумаг для отслеживания.
  - `orders`: Список заявок, связанных с данным портфелем.
- **Методы:**
  - `analyze_market()`: Анализ рынка для каждой бумаги и принятие решений на основе торгового алгоритма.
  - `place_order(order)`: Выставление заявки через соответствующую биржу.

## `TraderBot` (Торговый робот)
Главный класс, который управляет портфелями и биржами, объединяя их работу.
- **Поля:**
  - `exchanges`: Список подключенных бирж.
  - `portfolios`: Список портфелей, которыми управляет робот.
- **Методы:**
  - `add_exchange(exchange)`: Добавление новой биржи для работы робота.
  - `add_portfolio(portfolio)`: Добавление нового портфеля для торговли.
  - `start_trading()`: Запуск алгоритма, подписка на котировки, анализ рынка и выставление заявок.

## Пример взаимодействия классов

1. **Подключение бирж:**
   - Робот добавляет одну или несколько бирж через `TraderBot::add_exchange()`.
   - Каждая биржа предоставляет свои публичные и приватные API через класс `Exchange`.
   - При этом, релизация приватного API предоставляется по паролю/ключу через метод `Exchange::get_private_api(key/password)`

2. **Создание портфеля:**
   - Робот создает несколько независимых портфелей через `TraderBot::add_portfolio()`.
   - Каждый портфель может содержать бумаги, находящиеся на разных биржах.

3. **Подписка на котировки:**
   - Для каждой бумаги портфель подписывается на получение котировок через `Exchange::subscribe_to_price()`.

4. **Анализ рынка:**
   - Портфель анализирует текущие котировки через `Portfolio::analyze_market()`, используя внутренний торговый алгоритм.

5. **Выставление и снятие заявок:**
   - На основе анализа портфель принимает решение о выставлении или снятии заявок через `Portfolio::place_order()`.

6. **Работа с заявками:**
   - Биржа принимает заявки через приватное API, выполняет их и обновляет статус через `Exchange::get_order_status()`.
